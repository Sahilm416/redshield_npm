{"version":3,"sources":["../../../src/methods/additional.ts"],"sourcesContent":["\"use server\";\r\nimport { LoginUser } from \"../actions/login\";\r\nimport { registerUser, sendCode, verifyCode } from \"../actions/register\";\r\nimport { getProject, LogOut } from \"../actions/auth\";\r\nimport {\r\n  sendResetPasswordLink,\r\n  checkResetPasswordToken,\r\n  changePassword as changePass,\r\n} from \"../actions/forgotPassword\";\r\n\r\ntype Login = {\r\n  email: string;\r\n  password: string;\r\n};\r\n\r\ntype Register = {\r\n  email: string;\r\n  password: string;\r\n  profile_picture?: string;\r\n};\r\n\r\n//additional method for login\r\nexport const login = async ({ email, password }: Login) => {\r\n  const { project_id } = await getProject();\r\n  const res = await LoginUser({\r\n    email: email,\r\n    password: password,\r\n    project_id: project_id,\r\n  });\r\n  return res;\r\n};\r\n\r\n//send verification code to email address\r\nexport const sendEmailVerificationCode = async ({\r\n  email,\r\n}: {\r\n  email: string;\r\n}) => {\r\n  const res = await sendCode({ email: email });\r\n  return res;\r\n};\r\n\r\n//verify code sent to email address\r\nexport const verifyVerificationCode = async ({\r\n  email,\r\n  code,\r\n}: {\r\n  email: string;\r\n  code: string;\r\n}) => {\r\n  const res = await verifyCode({ email: email, code: code });\r\n  return res;\r\n};\r\n\r\n//register a new user\r\nexport const register = async ({ email, password }: Register) => {\r\n  const { project_id } = await getProject();\r\n  const res = await registerUser({\r\n    email: email,\r\n    password: password,\r\n    project_id: project_id,\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const logout = async () => {\r\n  await LogOut();\r\n  return;\r\n};\r\n\r\n//send reset password email\r\nexport const resetPassword = async ({\r\n  email,\r\n  site,\r\n}: {\r\n  email: string;\r\n  site: string;\r\n}) => {\r\n  const res = await sendResetPasswordLink({ email: email, url: site });\r\n  return res;\r\n};\r\n\r\n//check the token\r\nexport const checkToken = async ({ token }: { token: string }) => {\r\n  const res = await checkResetPasswordToken({ token: token });\r\n  return res;\r\n};\r\n\r\n//change password\r\nexport const changePassword = async ({\r\n  email,\r\n  password,\r\n  token,\r\n}: {\r\n  email: string;\r\n  password: string;\r\n  token: string;\r\n}) => {\r\n  const res = await changePass({\r\n    email: email,\r\n    password: password,\r\n    token: token,\r\n  });\r\n  return res;\r\n};\r\n"],"mappings":";AACA,SAAS,iBAAiB;AAC1B,SAAS,cAAc,UAAU,kBAAkB;AACnD,SAAS,YAAY,cAAc;AACnC;AAAA,EACE;AAAA,EACA;AAAA,EACA,kBAAkB;AAAA,OACb;AAcA,MAAM,QAAQ,OAAO,EAAE,OAAO,SAAS,MAAa;AACzD,QAAM,EAAE,WAAW,IAAI,MAAM,WAAW;AACxC,QAAM,MAAM,MAAM,UAAU;AAAA,IAC1B;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACD,SAAO;AACT;AAGO,MAAM,4BAA4B,OAAO;AAAA,EAC9C;AACF,MAEM;AACJ,QAAM,MAAM,MAAM,SAAS,EAAE,MAAa,CAAC;AAC3C,SAAO;AACT;AAGO,MAAM,yBAAyB,OAAO;AAAA,EAC3C;AAAA,EACA;AACF,MAGM;AACJ,QAAM,MAAM,MAAM,WAAW,EAAE,OAAc,KAAW,CAAC;AACzD,SAAO;AACT;AAGO,MAAM,WAAW,OAAO,EAAE,OAAO,SAAS,MAAgB;AAC/D,QAAM,EAAE,WAAW,IAAI,MAAM,WAAW;AACxC,QAAM,MAAM,MAAM,aAAa;AAAA,IAC7B;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACD,SAAO;AACT;AAEO,MAAM,SAAS,YAAY;AAChC,QAAM,OAAO;AACb;AACF;AAGO,MAAM,gBAAgB,OAAO;AAAA,EAClC;AAAA,EACA;AACF,MAGM;AACJ,QAAM,MAAM,MAAM,sBAAsB,EAAE,OAAc,KAAK,KAAK,CAAC;AACnE,SAAO;AACT;AAGO,MAAM,aAAa,OAAO,EAAE,MAAM,MAAyB;AAChE,QAAM,MAAM,MAAM,wBAAwB,EAAE,MAAa,CAAC;AAC1D,SAAO;AACT;AAGO,MAAM,iBAAiB,OAAO;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AACF,MAIM;AACJ,QAAM,MAAM,MAAM,WAAW;AAAA,IAC3B;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACD,SAAO;AACT;","names":[]}